<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Museum Quiz</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Add fullscreen button -->
    <button id="fullscreen-toggle" class="fullscreen-btn" aria-label="Toggle fullscreen">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
            <path d="M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"></path>
        </svg>
    </button>

    <!-- Add reset notification overlay -->
    <div id="reset-notification" class="reset-notification hidden">
        <div class="reset-notification-content">
            <h3 class="translate-text" data-en="You missed 3 questions in a row" data-mr="तुम्ही सलग 3 प्रश्न चुकले आहेत"></h3>
            <p class="translate-text" data-en="Quiz restarting in" data-mr="क्विझ पुन्हा सुरू होत आहे"></p>
            <div class="reset-countdown">5</div>
        </div>
    </div>

    <!-- Restore the original featured image -->
    <div class="featured-image">
        <img src="images/startingimage.png" alt="Starting Image">
    </div>
    
    <div class="play-button-container">
        <button id="lets-play-btn" class="play-button translate-text" data-en="Let's Play" data-mr="चला खेळूया">Let's Play</button>
    </div>

    <div class="main-container">
        <aside class="rules-sidebar">
            <div class="rules-header">
                <h2 class="translate-text" data-en="Quiz Rules" data-mr="क्विझ नियम">Quiz Rules</h2>
                <ul>
                    <li class="translate-text" data-en="You have 10 seconds per question" data-mr="प्रत्येक प्रश्नासाठी तुमच्याकडे 10 सेकंद आहेत">You have 10 seconds per question</li>
                    <li class="translate-text" data-en="Missing 3 questions in a row will restart the quiz" data-mr="सलग 3 प्रश्न चुकल्यास क्विझ पुन्हा सुरू होईल">Missing 3 questions in a row will restart the quiz</li>
                    <li class="translate-text" data-en="Click an option to submit your answer" data-mr="उत्तर सबमिट करण्यासाठी एका पर्यायावर क्लिक करा">Click an option to submit your answer</li>
                    <li class="translate-text" data-en="No going back to previous questions" data-mr="मागील प्रश्नांकडे परत जाता येणार नाही">No going back to previous questions</li>
                </ul>
            </div>
        </aside>

        <main class="quiz-area">
            <section id="start-screen" class="start-screen">
                <h1 class="translate-text" data-en="Metamorphosis Exhibition" data-mr="मेटामॉर्फोसिस प्रदर्शन">Metamorphosis Exhibition</h1>
                <h3 class="quiz-description translate-text" data-en="Test your knowledge about the artworks and artifacts in our Metamorphosis Exhibition." data-mr="आमच्या मेटामॉर्फोसिस प्रदर्शनातील कलाकृती आणि वस्तूंबद्दल तुमचे ज्ञान तपासा.">
                    Test your knowledge about the artworks and artifacts in our Metamorphosis Exhibition.
                </h3>
                <div class="language-selection">
                    <p class="language-prompt">Select your preferred language / तुमची पसंतीची भाषा निवडा</p>
                    <div class="language-buttons">
                        <button id="select-en" class="lang-btn">English</button>
                        <button id="select-mr" class="lang-btn">मराठी</button>
                    </div>
                </div>
                <button id="start-btn" class="start-btn translate-text hidden" data-en="Start Quiz" data-mr="क्विझ सुरू करा">Start Quiz</button>
            </section>

            <section id="quiz-section" class="quiz-section hidden">
                <div class="quiz-content">
                    <div class="header-content">
                        <div class="question-progress">
                            <h2><span class="translate-text" data-en="Question" data-mr="प्रश्न">Question</span> <span id="current-question">1</span>/<span id="total-questions">10</span></h2>
                            <div class="progress-bar">
                                <div class="progress-fill"></div>
                            </div>
                        </div>
                        <div class="timer" id="timer">
                            <span class="translate-text" data-en="Time: " data-mr="वेळ: ">Time: </span>
                            <span id="time">10</span>
                            <span class="translate-text" data-en="s" data-mr="से">s</span>
                        </div>
                    </div>
                    <div id="question"></div>
                    <div id="options"></div>
                </div>
            </section>

            <section id="results" class="results hidden">
                <h2 class="translate-text" data-en="Quiz Complete!" data-mr="क्विझ पूर्ण झाले!">Quiz Complete!</h2>
                <p></p>
                    <span class="translate-text" data-en="You scored" data-mr="तुमचे गुण">You scored</span> 
                    <span id="score">0</span> 
                    <span class="translate-text" data-en="points" data-mr="गुण">points</span>
                </p>
                <div id="review" class="review-section"></div>
                <button id="restart" class="restart-btn translate-text" data-en="Try Again" data-mr="पुन्हा प्रयत्न करा">Try Again</button>
            </section>

            <section id="restart-screen" class="restart-screen hidden">
                <p class="restart-message translate-text" data-en="Would you like to try again?" data-mr="तुम्हाला पुन्हा प्रयत्न करायचा आहे का?">Would you like to try again?</p>
                <button id="return-to-start" class="restart-btn translate-text" data-en="Return to Start" data-mr="सुरुवातीला परत जा">Return to Start</button>
            </section>
        </main>
    </div>
    <script src="script.js"></script>
    <script src="background-gallery.js"></script>
    
    <!-- Add fullscreen script before the closing body tag -->
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const fullscreenToggle = document.getElementById('fullscreen-toggle');
            
            // Function to enter fullscreen mode
            const enterFullscreen = () => {
                const element = document.documentElement;
                
                if (element.requestFullscreen) {
                    element.requestFullscreen();
                } else if (element.mozRequestFullScreen) { /* Firefox */
                    element.mozRequestFullScreen();
                } else if (element.webkitRequestFullscreen) { /* Chrome, Safari & Opera */
                    element.webkitRequestFullscreen();
                } else if (element.msRequestFullscreen) { /* IE/Edge */
                    element.msRequestFullscreen();
                }
            };
            
            // Function to exit fullscreen mode
            const exitFullscreen = () => {
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { /* Firefox */
                    document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { /* Chrome, Safari & Opera */
                    document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { /* IE/Edge */
                    document.msExitFullscreen();
                }
            };
            
            // Toggle fullscreen when the button is clicked
            fullscreenToggle.addEventListener('click', () => {
                if (!document.fullscreenElement && 
                    !document.mozFullScreenElement && 
                    !document.webkitFullscreenElement && 
                    !document.msFullscreenElement) {
                    enterFullscreen();
                } else {
                    exitFullscreen();
                }
            });
            
            // Automatically request fullscreen when the page loads
            // Use a slight delay to ensure browser recognizes it as a user interaction
            setTimeout(() => {
                try {
                    enterFullscreen();
                } catch (e) {
                    console.log('Fullscreen request failed: ', e);
                    // Show an instruction to the user
                    const instruction = document.createElement('div');
                    instruction.className = 'fullscreen-instruction';
                    instruction.textContent = 'Click the fullscreen button for better experience';
                    document.body.appendChild(instruction);
                    
                    // Remove after 5 seconds
                    setTimeout(() => {
                        if (instruction.parentNode) {
                            instruction.parentNode.removeChild(instruction);
                        }
                    }, 5000);
                }
            }, 1000);
        });
    </script>
</body>
</html>
